{\rtf1\ansi\ansicpg1252\deff0\deflang1031{\fonttbl{\f0\fswiss\fcharset0 Arial;}}
\viewkind4\uc1\pard\ri-1134\f0\fs16 V2.08\par
\pard 030130 New (not yet released): Every control has Automatic help\par
030130 Errors:CFS-YScale\par
030130 Revamped: Panels\par
V2.09\par
030303 access functions introduced so that 'EVAL'  does not have to know anything about the implementation\par
030305 New (not yet released): Evaluation similar to Stimfit\par
030307 panels: auto-built name using 'f_' as prefix \par
030307 evaluation with keyboard : button shortcuts\par
030307 Telegraph gains are now updated also in Watch mode, before only in Write mode\par
030308 EvalCfg directory has been introduced as a workaround because it seems impossible to make a file dialog display show only files with a certain extension\par
030310 introduced window hook function in evaluation\par
030312 revamped to a large extent ( gbWriteMode handled locally in WriteDataSection etc) so that telegraphs work (=display gain) also in watch mode\par
030312 eliminated  gFileOpen\par
030312 moved  TelegraphGain()  out of WriteBlocks()\par
030313 wrapped  'Protocol' loop around the digital output (Digout pulses were output only in protocol 0 and were missing in all following protocols)\par
030319 removed the drawing of the (old) online acquisition region\par
030320 Digout polarity was (sometimes ) reversed because resetting was unreliable because  'DIG,xxx' was missing\par
030321 'DIG,xxx' introduced  and  then 2 additional changes (mainly slice 0 eliminated) \par
030321 Periods between digout pulses can now be longer than 65535 sample intervals \par
V2.10\par
030324 Cosmetics: SetScalePX() and SetScaleIX() revamped to print 's'  instead of 'kms' (us or ns are still NOT  handled correctly)\par
030324 Error: InterFrameInterval and InterBlockInterval (introduced when multiple blocks were allowed, when combining Pulse and train)\par
030325 error message when when multiple dac channels are in wrong order in IO section in script\par
030326 Error: CFSRead  SmpInt was fixed 100\par
030326 Cosmetics: Short Dac and DigOut pulses are stretched for display\par
030326 evaluation: zoom with double click\par
030326 Display stimulus : inserted  ' = Nan '  to clear contents of wave\par
V2.11\par
030327\tab 'Reread'  split into 'Apply  /  Save  /  Save as'\par
030328 only on computer Bischoffberger: removed SaveExperiment in IgorQuitHook: turning Igor off now takes 40s instead 2 min (both is MUCH too long)\par
V2.12\par
030328\tab moved gsXUnits from root:dlg  into root:cfs\par
030328\tab first try on user trace access functions TraceCfs()\par
030401 - 030408\tab ReadCfs: handle multiple blocks having a different number of points each\par
\tab Now the frame/sweep information is stored in each datasection and retrieved when reading Cfs.\par
\tab Advantage: Each block can have a different frame/sweep/segment structure. Even when an experiment is aborted the datasection can be read correctly.\par
\tab FPulse208-211could also write multiple blocks each having a different frame/sweep/segment structure \par
\tab but the datasections could only be read correctly \tab when the blocks were similar (same timing = same frame/sweep/segment structure). \par
\tab This limitation can in principle be avoided when the stored script is interpreted, but premature experiment abortion may still give errors.\par
\par
030401\tab increased allowed protocol name length from 20 to 50  (at 2 locations: Stimfile  and  Proto Name) \par
030403\tab BugFix: initialization was missing in exponential stimulus\par
030407\tab CfsRead: split 'SuperImposed'  into 2 functions to handle data of only 1 block or of all blocks of experiment\par
030410\tab BugFix: made section pointer long /I instead of word /W\par
030410\tab gave additional hint to error message 'Could not set Transfer area..' that user should log in in 'Administrator' mode\par
030410..25 telegraph connection of the MultiClampC700 (todo: make status notices in history wnd on/off switchable)\par
030426..  telegraphs revamped: they are no longer treated as Adc channels: they are no longer stored in CFS or displayed\par
030505\tab to improve  speed XOP calling method changed from 'Message'  to  'Direct'  (effect is only about 3% speed advantage during CFSWrite, none in Convolve)\par
030506\tab combined warnings and errors. Severe warnings and errors always beep and print in history (user cannot suppress this)\par
030506\tab renamed XOPs, removed smpF from xUtilConvolve, introduced more specific errors during acquisition to warn when SI is too short \par
030507 Bugfix: Dac was not displayed during acquisition when signal was entirely negative\par
030508 Telegraph channels are no longer stored nor can they be displayed. Achieved SR: 1xDA,2xAD+TG:20us is the limit (works 50%)\par
030508\tab Changed status line to display only gains of used channels including telegraph information (fixed, TG channel or MultiClamp channel) \par
030508\tab Introduced IO keyword  TGMCChan to allow gains to be read from a MultiClamp amplifier\par
030509\tab FPulse will issue a warning when the last file (xxxZZ.dat) is being used and an error if the user continues to alert him that he will overwrite data\par
V2.13\par
030510\tab finished building MultiClamp telegraphs into FPulse\par
030512\tab made error checking more specific (especially for 'DIGTIM' ), introduced XOP 'xCEDGetResponseTwoIntAsString()'\par
030512\tab more errors and warnings are output during acquisition but they are still not 100% specific\par
030513 BugFix: DigOut pulses starting 2 sample intervals after stimulus start were not handled correctly (numtype())\par
030513 BugFix: due to a limitation in the DIGTIM S command (sz is 16bit) only appr. 2000 digout pulses were output (Control.txt needs 100x30!)\par
\tab using DigTim branches for nProts fixes this\par
030513 found flaw: digout pulses are delayed against Dac for about 10 us / frame  (amounting to 2 ms with 200 frames!)  . Fixed 030616\par
030513 found flaw: program is unable to divide memory without remainder when using short (<5ms) frames (forcing the user to adjust segment durations).Fixed030613\par
030513 In the CFS file the script is stored in the early form before loop expansion and insertion of 'Blank' 'InterxxxIntervals' has been done (but without comments)\par
030514 after reading a CFS file the script is extracted and written into  'UserIgor:Ced:Scripts:TmpExtractedScript.txt'  if user has turned 'Show and extract Cfs script' on.\par
030514 moved 'Read CFS file' button to bottom of menu\par
V2.14\par
030514 BugFix: FPulse previously detected additional 1401 memory only after acquisition was executed at least once. Now it is reported correctly right from the start.\par
030515 window arrangement will not be reset on 'Apply' . Requirement: There must be a subdirectory 'Tmp' to 'Scripts'  ( C:UserIgor:Ced:Scripts:Tmp )\par
030515 warning (level=severe) when a digital output pulse is mistakenly programed to start before time zero (i.e. before protocol starts, usually with a dac)\par
030516 warning (level=severe) when a combination of digital output pulses would result in (forbidden) time slices shorter than 2 sample intervals\par
030517 found flaw: an undesired digital output pulse (appr. 400 us) is output appr. 200 ms after the end of a protocol\par
030517 note: a pulse ( duration 2 sample intervals ) is output at the start on digital output 2 (=Timer2?). Was much longer in Pascal PULSE. Could be eliminated.\par
030523 the directories 'C:Epc:Data:EvalCfg'  and  'C:UserIgor:Ced:Scripts:Tmp'  are automatically built if they do not yet exist. (The whole path is built in  1 step)\par
030525 BugFix: program takes too much time after Dac has finished (20 secs!) when using many (>100) short (<100points) sweeps/frames. The fix makes  \par
\tab CFSWrite much faster when processing small sweeps/frames by letting the XOP scale only this number of points and not Igor the entire wave (32Kpts)\par
030526\tab introduced timer 'OnlineAn' to measure the time spent during acquisition in online analysis routines\par
030527 Feature: started panel 'Axes and Scalebars' allowing the user to select independently for each graph whether he wants Igors default axis or a scalebar\par
030610 improved X scaling for 'us' and 'ns' same way as for 'ms' : For example  11000us  were displayed as  11kus , now as  11ms  (same for '\'b5s' and 'ns')\par
030610 combined 'SetScaleIX()'  and  'SetScalePX()'\par
030610 introduced Y axis units in 'Disp After Acq'  for 'Scalebars'  to work  but prevented IGOR from drawing them because they appeared at ugly locations\par
030610 broke previously combined  Y channel name and Y axis units in 'Disp Stim' and moved them above axis. Necessary for  'Scalebars()'  to work\par
030611 made 'Axes and Scalebars' also work in 'DispDurAcq' just like in 'Disp After Acq'  and  'Disp Stim'  .   Redesigned  'RemoveTextBoxesUnits()'  .\par
030611 finishing touches to panel  'Axes and Scalebars' \par
030611The data from 'IgorPlsT205' are rescaled in ReadCfs so that they are now scaled correctly on screen (the CFS file itself  is _NOT_ corrected)\par
\tab Data from other FPULSE versions could (on demand) also be corrected in the same manner.  \par
V2.15\par
030612 Converted 'CedInit1401..()'  from  XOP  into  IPF in order to facilitate the testing necessary to reduce the DacToDigout delay of appr. 1ms \par
030612 BugReport: When using a directory other than \\EPC\\DATA data will be overwritten. Fixed 030617\par
030613 SetPoints() changed to make short scripts (e.g. DemoDacToDigLag...) containing only 10..20 points work. Points must be even, but 16 did previously not work.\par
030616 decreased time lag between Dac and Digout to 1.2 us . Was previously appr. 500 us + appr. 5us / frame and depended also a bit on the sample interval.\par
030617 The data path ( usually 'C:Epc:Data:' ) is now displayed in the button right from the start, previously it was displayed only after the path had been changed.\par
030617 The button 'Delete current data file'  has been renamed  'Delete'.  To the right of this button  the current data file name is displayed (= the last file written).\par
030617 Changed behaviour: 'Delete [current data file]' now actually deletes the file. Previously the file was only marked as 'can be deleted' and was later overwritten.\par
030617 Changed behaviour: Existing data files after a gap will never be overwritten. Previously existing files (going up from..AA) were not overwritten (was OK),\par
\tab  the free file names in the gap were used (was OK)  but also files following a gap were overwritten (was dangerous if the user deleted files outside FPulse).\par
030617 BugFix: when changing the data path data files in the new directory were (often) overwritten.\par
030620 added (preliminary)  SetVariable control for the dataPath . Goal : make the currently used datapath button obsolete  (unfinished)\par
030624 BugFix: StripFileAndExtension() handles a missing file correctly, 'C:dir1:dir2:' is now left unchanged, previously 'dir2:' was stripped ('C:dir1:dir2' is still stripped)  \par
030626 BugFix: Communication between MultiClamp and FPULSE was not 100% foolproof. When starting IGOR after the Multiclamp  and when not changing any setting \tab (e.g gain or mode) in the MC then often ( but not always)  illegal scales (10e306) were displayed on MultiClamp-controlled acquisition windows which on\par
\tab some systems led to a crash. This has been fixed.\par
030626 ErrorFix: The gain transmitted by the MultiClamp in the VoltageClamp mode was wrong by a factor of 2. . This has been fixed\par
V2.16\par
030627 ErrorFix: the digital output did work with 1401plus but not with power1401\par
\par
}
 