// C:UserIgor:Scripts:_DemoDigoutCedTypesFast  01.07.03

// Script for detecting errors on the digital out especially when switching between 1401plus and 1401power
// Connect Dac0 and Digout 0, 1 and 2 to 4 channel oscilloscope , 10 x sample interval / div
// Start the protocol.
// Check 1401plus  and   power1401 with hardware error
// Change number of protocols from 1 to 3.
// Change temporarily the constant cCEDMAXSLICELEN  from 65532 to 5,6,7,8,9,10 to detect errors in the DIGTIM-branches.
// Change duration and delay in 1-Smp-Int steps. Check delay -1SI and +1SI. Those steps that do not work must give a warning or an error.
// Change duration of the digital pulse so that the end lies behind the stimulus end: Check Warning and extension into the following protocol.
// Check multiple digital output channels working in parallel.

Script 	= "_DemoDigoutCedTypesFast"
SmpIntDac = 20		
Adc = 0,   Gain=10
dac = 0,   Gain = 0.5,  Units = pA       // pre
dig = 0, Name=Scope
Dig=1
Dig=4
dig = 2, Name=StimIsolator


Block, Repeats=2, Frames   = 3
 dur = .08;   dac	= 0, amp = 5000;  Dig =0, digdur=.12, digdel=.06 ;
 dur = .08;   dac	= 0, amp = 9000;  Dig =2,   digdur=1, digdel=1    //, 0, .1, -.3;           // Dig2 for stimulus isolator, Dig0 for scope 
 dur = .04;   dac	= 0
 
Block,  Repeats=3, Frames   = 1
Loops=2
 dur = .08;   dac	= 0, amp = 2000;  Dig =0, digdur=.10, digdel=.08 ; //kiki
 dur = .08;   dac	= 0, amp = 4000;  Dig =1,   digdur=.9, digdel=1, digddur=.1 
 dur = .04;   dac	= 0
EndLoops

